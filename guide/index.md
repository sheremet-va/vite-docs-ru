# Руководство

## Обзор возможностей

Vite (французское слово "быстро", произносится как `/vit/`) - это инструмент сборки, который призван обеспечить более быструю и экономичную разработку современных веб-проектов. Он состоит из двух основных частей:

- Сервер разработки, который предоставляет [расширенные возможности](./features) по сравнению с [нативными ES модулями](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules), например чрезвычайно быстрая [Горячая замена модулей (HMR)](./features#hot-module-replacement).

- Команда сборки, которая собирает ваш код с помощью [Rollup](https://rollupjs.org), предварительно настроенным для вывода высокооптимизированных статических ресурсов для production.

Vite поставляется с разумными настройками по умолчанию из коробки, но также обладает широкими возможностями расширения с помощью [API плагинов](./api-plugin) и [JavaScript API](./api-javascript) с полной поддержкой типизации.

Вы можете узнать больше о причинах этого проекта на странице [Почему Vite](./why).

## Поддержка браузеров

- По умолчанию сборка нацелена на браузеры, которые поддерживают как [нативные ESM через теги script](https://caniuse.com/es6-module), так и [нативные ESM динамические импорты](https://caniuse.com/es6-module-dynamic-import). Устаревшие браузеры могут поддерживаться через официальный [@vitejs/plugin-legacy](https://github.com/vitejs/vite/tree/main/packages/plugin-legacy) - смотрите раздел [Сборка для production](./build) для получения более подробной информации.

## Скаффолдинг вашего первого Vite-проекта

::: tip Примечание о совместимости
Vite требуется [Node.js](https://nodejs.org/en/) версии >=12.0.0.
:::

Через NPM:

```bash
$ npm init @vitejs/app
```

Через Yarn:

```bash
$ yarn create @vitejs/app
```

После просто следуйте подсказкам!

Вы также можете напрямую указать имя проекта и шаблон, который хотите использовать, с помощью дополнительных параметров командной строки. Например, чтобы сформировать проект Vite + Vue, запустите:

```bash
# npm 6.x
npm init @vitejs/app my-vue-app --template vue

# npm 7+, требуется дополнительное двойное тире:
npm init @vitejs/app my-vue-app -- --template vue

# yarn
yarn create @vitejs/app my-vue-app --template vue
```

Поддерживаемые пресеты шаблонов включают:

- `vanilla`
- `vanilla-ts`
- `vue`
- `vue-ts`
- `react`
- `react-ts`
- `preact`
- `preact-ts`
- `lit-element`
- `lit-element-ts`
- `svelte`
- `svelte-ts`

Смотрите [@vitejs/create-app](https://github.com/vitejs/vite/tree/main/packages/create-app) для получения дополнительных сведений о каждом шаблоне.

## Шаблоны сообщества

@vitejs/create-app - это инструмент для быстрого запуска проекта из базового шаблона для популярных фреймворков. Ознакомьтесь с Awesome Vite для [шаблонов, поддерживаемых сообществом](https://github.com/vitejs/awesome-vite#templates), которые включают другие инструменты или предназначены для других популярных фреймворков. Вы можете использовать такой инструмент, как [degit](https://github.com/Rich-Harris/degit), чтобы сформировать свой проект с помощью одного из шаблонов.

```bash
npx degit user/project my-project
cd my-project

npm install
npm run dev
```

Если проект использует `main` в качестве ветки по умолчанию, добавьте к репозиторию проекта суффикс `#main`

```bash
npx degit user/project#main my-project
```

## `index.html` и корень проекта

Вы, возможно, заметили, что в проекте Vite `index.html` лежит в корне, а не спрятан внутри `public`. Это сделано намеренно: во время разработки Vite является сервером, а `index.html` - точкой входа в ваше приложение.

Vite рассматривает `index.html` как исходный код и часть графа модулей. Он резолвит `<script type="module" src="...">`, который ссылается на ваш исходный JavaScript код. Даже встроенный `<script type="module">` и CSS, на который есть ссылка через `<link href>`, также обладают специфическими для Vite функциями. Кроме того, URL-адреса внутри `index.html` автоматически перебазируются, поэтому нет необходимости в специальных `%PUBLIC_URL%` плейсхолдерах.

Как и статические http-серверы, Vite имеет концепцию «корневого каталога», из которого обслуживаются ваши файлы. В остальной части документации вы увидите, что на него ссылаются как на `<root>`. Абсолютные URL-адреса в вашем исходном коде будут разрешены с использованием корня проекта в качестве основы, поэтому вы можете писать код, как если бы вы работали с обычным статическим файловым сервером (за исключением более расширенного!). Vite может обрабатывать зависимости, которые разрешаются к расположению вне корневой файловой системы, что позволяет использовать его даже в настройке на основе монорепозитория.

Vite также поддерживает [многостраничные приложения](./build#multi-page-app) с несколькими `.html` точками входа.

#### Указание альтернативного корня

`vite` запускает сервер разработки, используя текущий рабочий каталог как root. Вы можете указать альтернативный корень с помощью `vite serve some/sub/dir`.

## Интерфейс командной строки

В проекте, где установлен Vite, вы можете использовать бинарный файл `vite` в своих npm скриптах или запускать его напрямую с помощью `npx vite`. Здесь указаны дефолтные npm скрипты в скаффолдированном Vite проекте:

```json
{
  "scripts": {
    "dev": "vite", // запуск сервера разработки
    "build": "vite build", // сборка для production
    "serve": "vite preview" // локальная предварительная версия production сборки
  }
}
```

Вы можете указать дополнительные параметры интерфейса командной строки, например `--port` или `--https`. Чтобы получить полный список параметров интерфейса командной строки, запустите в своем проекте `npx vite --help`.

## Использование невыпущенных коммитов

Если вы не можете дождаться выхода новой версии для тестирования последних функций, тогда вам нужно склонировать [репозиторий vite](https://github.com/vitejs/vite) на локальную машину, а затем сбилдить и слинковать его самостоятельно (Требуется [Yarn 1.x](https://classic.yarnpkg.com/lang/en/)):

```bash
git clone https://github.com/vitejs/vite.git
cd vite
yarn
cd packages/vite
yarn build
yarn link
```

Затем перейдите в свой проект на основе vite и запустите `yarn link vite`. Теперь перезапустите сервер разработки (`yarn dev`), чтобы двигаться дальше!

## Сообщество

Если у вас есть вопросы или вам нужна помощь, обратитесь к сообществу в [Discord](https://discord.gg/4cmKdMfpU5) и [GitHub Discussions](https://github.com/vitejs/vite/discussions).
